import{addPosts,managePostForm,submitPost}from"../components/posts.js";import{getRequestURL}from"../auth/requests.js";import{showPageContent}from"../abstracts/styles.js";import{Dialogs,GlobalDialogs,createDialog,showPopup}from"../components/popups.js";window.dayjs.extend(window.dayjs_plugin_relativeTime);export let newPostDialog;document.querySelector(".js-new-post-btn").addEventListener("click",(()=>handlePostCreation())),async function(){await addPosts(getRequestURL("posts")),showPageContent()}();export async function handlePostCreation(){if(GlobalDialogs.newPost)return void showPopup(GlobalDialogs.newPost);const o=new FormData,t=createDialog(Dialogs.postCreation,submitPost.bind(void 0,o));GlobalDialogs.newPost=t,managePostForm(t,o)}